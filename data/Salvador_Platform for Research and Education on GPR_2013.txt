Salvador
Platform for Research and Education on Ground Penetrating Radar
2013
Radar Sensor Technology XVII

Platform for Research and Education on Ground Penetrating Radar M. J. Salvador, V. Jimenez, R. G. Lopez, R. von Borries The University of Texas at El Paso, 500 W. University Av. 79968, El Paso, USA ABSTRACT Current commercial Ground Penetrating Radar (GPR) systems are found at a high cost and allow little interaction between the user and the system. This paper presents a low cost and ﬂexible GPR platform attractive for use in education and research based on the Universal Software Radio Peripheral (USRP) developed by Ettus Research. A software application developed in Labview enables users to select and modify fundamental parameters of the transmission and reception stages of a GPR system. Users are able to modify parameters such as sampling and carrier frequencies, waveform shape, amplitude, and bandwidth. The programmability of the USRP in conjunction with the developed software tools provides a user-friendly GPR platform. Keywords: Ground penetrating radar, software radio, Vivaldi antenna  1. INTRODUCTION A Ground Penetrating Radar (GPR) is a system that enables imaging of the ground below the surface of the earth. GPR systems consist of generating and transmitting speciﬁed signals to interact with the ground. A modiﬁed signal is captured by the receiver from this interaction and digital signal processing is applied to extract information about the underground. Due to this ability, GPR can be used to detect underground objects where other means such as metal detectors cannot be used.1 Thus, this allows GPR to have a wide range of applications. This includes, maintaining border security through the detection of illegal passageways, land mine detection and removal, civil engineering, and archeology. GPR systems are generally found in the market with a cost between $15,000 and $50,000.2 With current GPR systems, users usually do not have the possibility to experiment with diﬀerent parameters of GPR. This high cost and limited user control can detract students and researchers from either gaining familiarity or contributing to further development of GPR technology. Nonetheless, general purpose hardware is commercially available that can potentially be used to build GPR systems with enhanced user programmability features at a low cost. One example is the Universal Software Radio Peripheral (USRP) developed by ETTUS. There exist previous works using the USRP as a general purpose radar system. Research by Patton Lee shows the successful use of the initial USRP1 model and RFX2400 daughterboard for software-deﬁned radar (SDR) using 2.35 GHz center frequency.3 In the second part of Lee’s research the constructed SDR was used for testing an algorithm for waveform optimization in the presence of interference and noise. However, Lee noted the limitations of the USRP1 due to its transmitter/receiver isolation and restricted instantaneous bandwidth. Newer USRP model versions have been produced by Ettus Research since then to address these limitations. Independent works by Berizzi et al.4 and Braun et al.5 present research using the more recent USRP N210 model. Braun’s work presents the use of the USRP as a testbed for verifying the practicality of OFDM radar systems as seen in previous research using simulations and measurements.5 The system constructed used the USRP N210 model equipped with XCVR2450 daughterboard capable of achieving a maximum bandwidth of 36 MHz. For their experimentation, a 20 MHz bandwidth was used for transmitting OFDM signals as by IEEE 802.11 a/p standards [IEEE802]. Since the XCVR2450 did not support full-duplex mode, two separate USRP Further author information: (Send correspondence to M.J.S. or R.v.B.) M.J.S.: E-mail: mjsalvador@miners.utep.edu V.J.: E-mail: vjimenez5@miners.utep.edu R.G.L.: E-mail: rlopez7@miners.utep.edu R.v.B.: E-mail: rvonborries@utep.edu  Radar Sensor Technology XVII, edited by Kenneth I. Ranney, Armin Doerry, Proc. of SPIE Vol. 8714, 87141K © 2013 SPIE · CCC code: 0277-786X/13/$18 · doi: 10.1117/12.2016333  Proc. of SPIE Vol. 8714 87141K-1 Downloaded From: http://proceedings.spiedigitallibrary.org/ on 12/02/2013 Terms of Use: http://spiedl.org/terms  N210 devices were connected through a MIMO cable, for allowing simultaneous transmission and reception. Testing showed successful detection of stationary and moving objects. However, direct coupling was caused by the MIMO cable connecting the two USRP devices at a close distance and the use of poorly directional patch antennas. When TEM horn antennas were used these caused negligible coupling.5 Work by Berizzi et al. targeted at creating a multiband passive radar through use of the USRP1 and the newer USRP N210. Results show that the USRP is suitable for use of DVB-T and UMTS signal types for object detection. It is noted that the USRP hardware is capable of handling these two diﬀerent signal types with only the need of software conﬁguration.4 Similarly, work done by Williams and Inggs is aimed at showing the development of a networked radar and sonar system using a USRP1. Such system is intended for use in network radar and educational use. The system operated at 40 kHz transmitting linear chirp signals. Through use of GNU radio and Python, a graphical user interface was developed to allow the user to set the pulse repetition rate, and the on/oﬀ time of the receiver.6 Through these works, use of the USRP N210 for software deﬁned radar is demonstrated. Although the USRP has been used as a radar, the use of the USRP as a GPR remained unexplored. Since the USRP is versatile and programmable, it was considered promising to start research in this ﬁeld and create an aﬀordable GPR system that can be used as an educational tool for teaching fundamentals of GPR and applied radar concepts. This educational platform will enable users to transfer desired signals freely and easily. This paper describes the development of a programmable GPR system through use of the USRP. The paper is divided in two main parts, a description of the USRP hardware and the development of the software used to control the USRP. The hardware section discusses a general GPR system, the USRP capabilities, and antenna selection. The software section includes the description of the user interface for the transmission and reception of GPR signals.  2. GPR USRP SYSTEM HARDWARE This section begins with a brief description of a general GPR system and introduces the USRP created by ETTUS. Later, a comparison and relation of USRP with a general GPR is presented. It further explains why the USRP was the ﬁnal choice of hardware in the creation of the GPR educational platform.  2.1 General GPR System Though there are numerous variations, a general GPR system can be thought of consisting of six main elements as shown in Figure 1(a). The main blocks of a general GPR system are: transmitter, antennas, receiver, signal processing and display. The transmitter consists of a signal generator, modulator, and ampliﬁer. The receiver consists of a demodulator, an ampliﬁer, and an analog to digital converter.7 Depending on the GPR system’s application, a speciﬁc carrier signal is created by the signal generator and sent to the transmitter where it is ampliﬁed, modulated and sent via an antenna to the ground. Interaction between the ground (surface and underground) and the transmitted signal is echoed back for reception by the system. The received signal is then ampliﬁed, demodulated, and converted from analog to digital. This digital conversion allows the computer to perform signal processing and display. A clock system is present throughout the structure to ensure time synchronization in the data.7 It is also good to note that in GPR systems, it is important to have an antenna with the ability to transmit within an appropriate frequency range (bandwidth) and directionality. This directionality is necessary to ensure that the signal is properly aimed at the desired sampling ground.1  2.2 Universal Software Radio Peripheral The USRP has characteristics that make it a viable option for the purpose of constructing a GPR system. The decision to use the USRP as the primary hardware was due to: 1) low cost, around $1,700, making the complete GPR hardware less than $2,000; 2) programmability, which allows for generation and transmission of user speciﬁed signals to allow for research in this area.  Proc. of SPIE Vol. 8714 87141K-2 Downloaded From: http://proceedings.spiedigitallibrary.org/ on 12/02/2013 Terms of Use: http://spiedl.org/terms  1  Amplitude (Volts)  0.8 0.6 0.4 0.2 0 −0.2 −0.4 0  0.2  0.4 0.6 Time (µ seconds)  0.8  1  Figure 2. A signal is created in Matlab by a program that makes the users input waveform compatible to the specifications of the USRP. These specifications are the sampling rate and amplitude capabilities of the USRP.  3.1.4 Display of the Running Transmission Window Once the program is running, a preview of one waveform pulse being transmitted is displayed in a time versus voltage amplitude plot. If a non-zero value for Pause Time was entered, it will also be displayed in the plot. The running Transmission Window also displays the status of the number of pulses that have currently been transmitted and the samples per pulse. In addition, the waveform information generated for transmission can be saved to a CSV ﬁle in case the user desires a record of the experimental data. This is most useful if the user created the waveform data using the list of Gaussian derivatives within the system software or if a pause time was inserted. Lastly, a STOP TX button is included in the window if the user desires to only stop the transmission end of the program and leave the reception end running.  3.2 GPR USRP System Reception Window 3.2.1 Device Parameters For the GPR USRP system to successfully receive a waveform, device parameters in the reception window must be deﬁned by the user. These parameters include IP Address, Timeout, and Active Antenna. IP Address indicates the address of the USRP behaving as the receiver. Since the SBX daughterboard is TX/RX duplexed, our system currently uses a single USRP N210 to perform both the transmission and reception; hence TX and RX IP addresses are the same. The Timeout parameter is used to deﬁne the time the system will wait to receive a waveform pulse before stopping the reception and sending an error message. Finally, Active Antenna is used to indicate which antenna connection in the USRP will act as the receiving antenna. TX/RX, RX1, and RX2 are valid inputs. 3.2.2 Reception Parameters The reception parameters in GPR USRP system software allow for the control of the gain and sampling frequency of the received signal. The software accepts sampling frequency values in samples per second and will check that it is within the capabilities of the USRP. If the input sampling frequency value is not in the range supported by the USRP, the program will automatically coerce the sampling frequency to the minimum USRP sampling frequency value. The actual gain and sampling frequency values accepted and used by the USRP for reception are displayed.  Proc. of SPIE Vol. 8714 87141K-5 Downloaded From: http://proceedings.spiedigitallibrary.org/ on 12/02/2013 Terms of Use: http://spiedl.org/terms  2.3 Antennas Desired characteristics in antennas for use in GPR are directionality and frequency range. The TEM horn, Logarithmic and Vivaldi antennas were considered for use in the development of the platform since they posses these characteristics. Although the TEM horn antenna is widely used in GPR systems, it was not chosen because of its large dimensions and cost.10 Instead, due to its accessibility, initial testing was performed using the Logarithmic antennas and SMA coaxial cables. The most recent testing has been done using Vivaldi antennas that were created in our laboratory.  3. GPR USRP SYSTEM SOFTWARE Currently, commercial GPR signal generators create and send to the transmitter a predeﬁned waveform. This limits the user’s control over the parameters and design of the signal that will be transmitted. Nonetheless, a low-cost software deﬁned radio such as the USRP, enables the development of GPR systems that give the ability to deﬁne waveforms. Having this ability to deﬁne waveforms in mind, the GPR USRP software was developed to create a GPR system that is more ﬂexible, allows transmission and reception of diﬀerent waveforms, and the ability to observe and compare between the transmitted and received waveforms. The result of these features is a ﬂexible GPR system educational tool that aids the user by allowing him/her to control and observe the result of diﬀerent signal modiﬁcations. The following description of GPR USRP system will be divided into three parts: Transmission Window, Reception Window, and the National Instruments USRP package used.  3.1 GPR USRP System Transmission Window The transmission window of the GPR USRP system allows the user to choose how they wish to deﬁne the waveform with two diﬀerent options. The user can either import a waveform data ﬁle created from an external source or choose from a list of predeﬁned Gaussian derived waveforms as a template. 3.1.1 Definition of Waveform Shape Through Imported File If the user desires to transmit a waveform created from an external data ﬁle, the GPR USRP system Software accepts ﬁles saved in either comma separated value (CSV) or a tab delimited formats. The ﬁle can be generated from Matlab, Excel or any other program with a CSV or tab delimited output. In addition, for the waveform data to be properly imported, the data ﬁle must include the sampling frequency and an array of the signal values in volts. Figure 3.1.4 shows an example of a user created Matlab signal that can be transmitted in the GPR USRP system. 3.1.2 Definition of Waveform Shape through Creation from Gaussian Derived Shapes The option is also given to transmit a predeﬁned waveform derived from a Gaussian; with monopulse, ﬁrst derivative, and second derivative Gaussian functions to choose from. The GPR USRP system provides Gaussian wavelets and its derivatives because of their common use in GPR due to their Fourier transform characteristics and wideband range.7 Once a waveform shape is chosen from the list, the user can select the desired bandwidth and sampling frequency for this waveform. GPR USRP system software uses these input parameters, bandwidth and sampling, to determine the time duration for a single pulse. If the system software detects that the sampling frequency input by the user is less than twice the bandwidth, or out of range of the USRP’s speciﬁcations, the program will stop and inform the user to try diﬀerent inputs. The user is also given the ability to control the amplitude of the waveform within the USRP’s output range. 3.1.3 Additional User Defined Transmission Waveform Parameters Applicable to both options for deﬁning the waveform shape, the user can choose to repeatedly transmit a ﬁnite or indeﬁnite amount of pulses until the program is stopped. If more than one pulse repetition will be sent, a Pause Time inserted between each pulse can be chosen. Finally having deﬁned the waveform, the user can select the carrier frequency for transmission within the USRP and daughterboard capacity and input the IP address to the Ethernet connected USRP.  Proc. of SPIE Vol. 8714 87141K-4 Downloaded From: http://proceedings.spiedigitallibrary.org/ on 12/02/2013 Terms of Use: http://spiedl.org/terms  1  Amplitude (Volts)  0.8 0.6 0.4 0.2 0 −0.2 −0.4 0  0.2  0.4 0.6 Time (µ seconds)  0.8  1  Figure 2. A signal is created in Matlab by a program that makes the users input waveform compatible to the specifications of the USRP. These specifications are the sampling rate and amplitude capabilities of the USRP.  3.1.4 Display of the Running Transmission Window Once the program is running, a preview of one waveform pulse being transmitted is displayed in a time versus voltage amplitude plot. If a non-zero value for Pause Time was entered, it will also be displayed in the plot. The running Transmission Window also displays the status of the number of pulses that have currently been transmitted and the samples per pulse. In addition, the waveform information generated for transmission can be saved to a CSV ﬁle in case the user desires a record of the experimental data. This is most useful if the user created the waveform data using the list of Gaussian derivatives within the system software or if a pause time was inserted. Lastly, a STOP TX button is included in the window if the user desires to only stop the transmission end of the program and leave the reception end running.  3.2 GPR USRP System Reception Window 3.2.1 Device Parameters For the GPR USRP system to successfully receive a waveform, device parameters in the reception window must be deﬁned by the user. These parameters include IP Address, Timeout, and Active Antenna. IP Address indicates the address of the USRP behaving as the receiver. Since the SBX daughterboard is TX/RX duplexed, our system currently uses a single USRP N210 to perform both the transmission and reception; hence TX and RX IP addresses are the same. The Timeout parameter is used to deﬁne the time the system will wait to receive a waveform pulse before stopping the reception and sending an error message. Finally, Active Antenna is used to indicate which antenna connection in the USRP will act as the receiving antenna. TX/RX, RX1, and RX2 are valid inputs. 3.2.2 Reception Parameters The reception parameters in GPR USRP system software allow for the control of the gain and sampling frequency of the received signal. The software accepts sampling frequency values in samples per second and will check that it is within the capabilities of the USRP. If the input sampling frequency value is not in the range supported by the USRP, the program will automatically coerce the sampling frequency to the minimum USRP sampling frequency value. The actual gain and sampling frequency values accepted and used by the USRP for reception are displayed.  Proc. of SPIE Vol. 8714 87141K-5 Downloaded From: http://proceedings.spiedigitallibrary.org/ on 12/02/2013 Terms of Use: http://spiedl.org/terms  3.2.3 Waveform Display An important feature that can be found in the reception window of the GPR USRP system software is the display of the received waveform. The display is presented as a time vs. voltage amplitude plot. The display behaves as an oscilloscope and allows the user to control the horizontal shift and the number of signal repetitions to be displayed at a time. These features allow the user to compare the initial transmitted waveform against the received signal and observe what changes the waveform underwent after traveling through a medium. 3.2.4 Data Recording Furthermore, the GPR USRP system software reception window gives the user the option to decide when to stop receiving. The STOP RX button serves this purpose. If a ﬁnite amount of pulses are being transmitted, the reception will stop once transmission ends or when the user presses the STOP RX button anytime before. Therefore, if a continuous sequence of pulses is being transmitted, the user must press the STOP RX button to end the program. A software or USRP error message will also cause the system to halt and prompt the user for correction. If the user chooses to save the received data, the sampling frequency and received amplitude signal values will be saved into a CSV ﬁle at the users speciﬁed ﬁle path. The user can also choose how many received pulses will be recorded once transmission and reception of the waveform have successfully been performed. The signal values recorded are readily available for signal processing and analysis by other programs.  3.3 NI-USRP 1.2 Driver and Software Support Based on National Instruments’ free NI-USRP 1.2 driver and software support, Labview was chosen as the graphical programming environment used to develop GPR USRP system software. Key virtual instruments (VI) used for the system software’s development were the niUSRP Conﬁgure Signal VI, niUSRP Write TX Data VI, and niUSRP Write RX Data VI. These virtual instruments allowed data to be conﬁgured, written, and read from the USRP, consequently facilitating the use of the USRP N210 hardware with Labview. The VIs in NI-USRP 1.2 software support where used as building blocks of the GPR USRP system software.  4. RESULTS The creation of a GPR platform through the integration of the N210 USRP hardware with GPR USRP system software has been successful. The user will input either a desired signal ﬁle or choose among predeﬁned Gaussian wavelet shapes. In addition the user will be prompted to choose parameters for transmission and reception. GPR USRP system will modify these inputs to best complete the users transmission and reception request but accommodate it to the USRP’s hardware speciﬁcations. Figures 3 and 4 show, respectively, the transmission and reception windows of the completed GPR USRP system software (the GUI shows both windows side-by-side). Figure 5 shows the completed GPR USRP system hardware.  5. CONCLUSION This paper introduces a versatile low-cost ground penetrating radar system based on the USRP N210 hardware and Labview software. The hardware can generate carrier frequencies in the interval from 400 MHz to 4 GHz and bandwidth up to 10 MHz (lower than the SBX daughterboard speciﬁcation of 40 MHz). The graphical user interface in Labview allows the user to easily modify the parameters of the GRP system and specify the radar pulse waveform. Further development of the software includes addition of automatic scanning of a carrier frequency interval and extensive test of the whole system with canonic targets.  ACKNOWLEDGMENTS This work was supported by the Army Research Oﬃce under Grant No. W911NF-11-1-0129.  Proc. of SPIE Vol. 8714 87141K-6 Downloaded From: http://proceedings.spiedigitallibrary.org/ on 12/02/2013 Terms of Use: http://spiedl.org/terms  REFERENCES [1] Daniels, D. J., [Ground Penetrating Radar], Institution of Electrical Engineers, London, UK, second ed. (2004). [2] EPA United States Environmental Protection Agency, “Contaminated site clean-up information: Ground penetrating radar.” https://clu-in.org/characterization/technologies/gpr.cfm (2009). [3] Patton, L. K., A GNU radio based software-defined radar, Master’s thesis, Wright State University, Dayton, OH (Apr. 2007). [4] Berizzi, F., Martorella, M., Petri, D., Conti, M., and Capria, A., “USRP technology for multiband passive radar,” in [IEEE Radar Conference], 225–229 (May 2010). [5] Braun, M., Müller, M., Fuhr, M., and Jondral, F. K., “A USRP-based testbed for OFDM-based radar and communication systems,” in [Proceedings of 22nd Virginia Tech Symposium on wireless communications], (June 2012). [6] Williams, L. P. and Inggs, M. R., “Low cost networked radar and sonar using open source hardware and software,” in [IET International Conference on Radar Systems], 1–5 (Oct. 2007). [7] Nathanson, F. E., Reilly, J. P., and Cohen, M. N., [Radar Design Principles: Signal Processing and the Environment], SciTech Publishing, Inc., Mendham, NJ, second, reprint ed. (1999). [8] Balister, P. and Reed, J., “USRP hardware and software description,” tech. rep., Virginia Tech, Blacksburg, VA (June 2006). [9] Ettus Research, “USRP N200/N210 Networked Series.” speciﬁcation sheet http://www.ettus.com. [10] Kao, C., Li, J., Liu, R., and Cai, Y., “Design and analysis of UWB TEM horn antenna for ground penetrating radar applications,” in [IEEE International Geoscience and Remote Sensing Symposium, IGARSS ], 4, 569– 572 (July 2008).  Proc. of SPIE Vol. 8714 87141K-7 Downloaded From: http://proceedings.spiedigitallibrary.org/ on 12/02/2013 Terms of Use: http://spiedl.org/terms  write criginal data bo liter  Choose a Way Raen  I ¡mom waceaoro  Treromitnian  Waisiet Shaw Seeced Dees.. Gaussian  I  E Sarcavdh Go)  swore 'nooses Ose  Vol  .1[4  MOM=  Infhtie epebticrs  CZ)  RIFF  Fous onw  caret'  urns frecpencv  cooced  ,.to -7111P TX  cowl sarseies to Poosaa  rumba. ci *rot sCe  repatitKns unt ' "" 1  toyced mar aut  TranstottlINI PrVe't WaWkr. cods Trcnsrnitbrg User Wei  SOlee  Figure 3. Transmission window of the GPR USRP system showing the waveform that will be transmitted and the input parameters the user can modify.  11  '  Ill  Lg  III  l I. L i' Il_i 1  1  Figure 4. Reception window of the GPR USRP system showing the waveform that was received.  Proc. of SPIE Vol. 8714 87141K-8 Downloaded From: http://proceedings.spiedigitallibrary.org/ on 12/02/2013 Terms of Use: http://spiedl.org/terms  Figure 5. Completed and integrated GPR system showing each component: (1) Computer running GPR USRP system software; (2) 2 GB Ethernet connection allowing communication between the computer and the USRP; (3) ETTUS USRP N210; (4) SMS Coaxial Cables; (5) Custom made Vivaldi antennas for transmission and reception; and (6) Power supply cable.  Proc. of SPIE Vol. 8714 87141K-9 Downloaded From: http://proceedings.spiedigitallibrary.org/ on 12/02/2013 Terms of Use: http://spiedl.org/terms  